local UserInputService = game:GetService("UserInputService")

-- Check if the player is in the supported game
local supportedGameId = 1537690962 -- Replace with the supported game ID
if game.PlaceId ~= supportedGameId then
    game.Players.LocalPlayer:Kick("Game not supported")
end

-- Create the UI elements
local player = game.Players.LocalPlayer
local ui = Instance.new("ScreenGui")
ui.Parent = player.PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.4, 0, 0.8, 0) -- Adjusted size to be larger
frame.Position = UDim2.new(0.3, 0, 0.1, 0) -- Adjusted position to be closer to the middle
frame.BackgroundColor3 = Color3.new(0, 0, 0)
frame.BorderSizePixel = 0
frame.Parent = ui

-- Add title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0.1, 0)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.new(1, 1, 1)
title.BorderSizePixel = 0
title.Text = "Rinn's Script (BSS)"
title.TextColor3 = Color3.new(0, 0, 0)
title.Font = Enum.Font.SourceSans
title.TextSize = 18
title.Parent = frame

-- Create buttons
local buttonSize = UDim2.new(0.4, 0, 0.1, 0) -- Adjusted size for smaller buttons

local farmingButton = Instance.new("TextButton")
farmingButton.Size = buttonSize
farmingButton.Position = UDim2.new(0.05, 0, 0.2, 0)
farmingButton.BackgroundColor3 = Color3.new(1, 1, 1)
farmingButton.BorderSizePixel = 0
farmingButton.Text = "Farming"
farmingButton.TextColor3 = Color3.new(0, 0, 0)
farmingButton.Parent = frame

local combatButton = farmingButton:Clone()
combatButton.Position = UDim2.new(0.55, 0, 0.2, 0)
combatButton.Text = "Combat"
combatButton.Parent = frame

local visualsButton = farmingButton:Clone()
visualsButton.Position = UDim2.new(0.3, 0, 0.4, 0)
visualsButton.Text = "Visuals"
visualsButton.Parent = frame

-- Create Close UI button
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0.1, 0, 0.05, 0)
closeButton.Position = UDim2.new(0.9, 0, 0, 0)
closeButton.BackgroundColor3 = Color3.new(1, 0, 0)
closeButton.BorderSizePixel = 0
closeButton.Text = "Close UI"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.Parent = ui

-- Create farming section
local farmingSection = Instance.new("Frame")
farmingSection.Size = UDim2.new(0.8, 0, 0.6, 0)
farmingSection.Position = UDim2.new(0.1, 0, 0.2, 0)
farmingSection.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
farmingSection.BorderSizePixel = 0
farmingSection.Visible = false
farmingSection.Parent = frame

local farmingTextLabel = Instance.new("TextLabel")
farmingTextLabel.Size = UDim2.new(1, 0, 1, 0)
farmingTextLabel.Position = UDim2.new(0, 0, 0, 0)
farmingTextLabel.BackgroundColor3 = Color3.new(1, 1, 1)
farmingTextLabel.BorderSizePixel = 0
farmingTextLabel.Text = "Farming Section"
farmingTextLabel.TextColor3 = Color3.new(0, 0, 0)
farmingTextLabel.Font = Enum.Font.SourceSans
farmingTextLabel.TextSize = 18
farmingTextLabel.Parent = farmingSection

-- Function to handle button clicks
local function onButtonClicked(button)
    print("Button clicked: " .. button.Text)
    if button == farmingButton then
        farmingSection.Visible = true
    else
        farmingSection.Visible = false
    end
end

-- Function to close UI
local function closeUI()
    ui.Enabled = false
    closeButton.Visible = false
    openButton.Visible = true
end

-- Function to open UI
local function openUI()
    ui.Enabled = true
    closeButton.Visible = true
    openButton.Visible = false
end

-- Connect buttons to click event
farmingButton.MouseButton1Click:Connect(function()
    onButtonClicked(farmingButton)
end)

combatButton.MouseButton1Click:Connect(function()
    onButtonClicked(combatButton)
end)

visualsButton.MouseButton1Click:Connect(function()
    onButtonClicked(visualsButton)
end)

closeButton.MouseButton1Click:Connect(closeUI)

-- Create Open UI button
local openButton = Instance.new("TextButton")
openButton.Size = UDim2.new(0.1, 0, 0.05, 0)
openButton.Position = UDim2.new(0.9, 0, 0, 0)
openButton.BackgroundColor3 = Color3.new(0, 1, 0)
openButton.BorderSizePixel = 0
openButton.Text = "Open UI"
openButton.TextColor3 = Color3.new(1, 1, 1)
openButton.Parent = ui

openButton.MouseButton1Click:Connect(openUI)
openButton.Visible = false  -- Initially hidden

-- Function to toggle UI with left shift
local function toggleUIWithLeftShift(input)
    if input.KeyCode == Enum.KeyCode.LeftShift then
        if ui.Enabled then
            closeUI()
        else
            openUI()
        end
    end
end

-- Function to toggle UI with right shift
local function toggleUIWithRightShift(input)
    if input.KeyCode == Enum.KeyCode.RightShift then
        if ui.Enabled then
            closeUI()
        else
            openUI()
        end
    end
end

-- Connect toggle functions to input events
UserInputService.InputBegan:Connect(toggleUIWithLeftShift)
UserInputService.InputBegan:Connect(toggleUIWithRightShift)
